<div
  class="bg-white/10 border border-white/30 w-full h-full backdrop-blur-md shadow-lg p-4 rounded-lg text-white flex flex-col min-h-0"
>
  @if (loading()) {
    <p>Loading cryptocurrencies...</p>
  }

  @if (!loading()) {
    <div class="flex-1 min-h-0 overflow-auto">
      <table class="min-w-full w-full table-auto border-collapse">
        <thead class="sticky top-0 bg-zinc-700/90">
          <tr>
            <th class="px-4 py-2 text-left max-w-[120px]">ID</th>
            <th class="px-4 py-2 text-left max-w-[150px]">Name</th>
            <th class="px-4 py-2 text-left whitespace-nowrap">Symbol</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">Price (USD)</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">Market Cap</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">Total Volume</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">High 24h</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">Low 24h</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">Price Change % (24h)</th>
            <th class="px-4 py-2 text-right whitespace-nowrap">Circulating Supply</th>
          </tr>
        </thead>

        <tbody>
          @for (crypto of cryptos(); track crypto.id; let i = $index) {
            <tr
              class="border-t border-white/10 transition-colors hover:bg-white/15"
              [class.bg-white/5]="i % 2 === 0"
              [class.bg-white/10]="i % 2 !== 0"
            >
              <td class="px-4 py-2 max-w-[120px]" [title]="crypto.id">
                <div class="truncate-cell" [title]="crypto.id">
                  {{ crypto.id }}
                </div>
              </td>
              <td class="px-4 py-2 max-w-[150px]" [title]="crypto.name">
                <div class="truncate-cell" [title]="crypto.name">
                  {{ crypto.name }}
                </div>
              </td>
              <td class="px-4 py-2 whitespace-nowrap">{{ crypto.symbol | uppercase }}</td>
              <td class="px-4 py-2 text-right whitespace-nowrap">
                {{ crypto.current_price | number }}
              </td>
              <td class="px-4 py-2 text-right whitespace-nowrap">
                {{ crypto.market_cap | number }}
              </td>
              <td class="px-4 py-2 text-right whitespace-nowrap">
                {{ crypto.total_volume | number }}
              </td>
              <td class="px-4 py-2 text-right whitespace-nowrap">{{ crypto.high_24h | number }}</td>
              <td class="px-4 py-2 text-right whitespace-nowrap">{{ crypto.low_24h | number }}</td>
              <td class="px-4 py-2 text-right whitespace-nowrap">
                {{ crypto.price_change_percentage_24h | number: '1.2-2' }}
              </td>
              <td class="px-4 py-2 text-right whitespace-nowrap">
                {{ crypto.circulating_supply | number }}
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
